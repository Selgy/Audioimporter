{"version":3,"file":"background-3e9f0da6.js","sources":["../../../src/js/Bg/background.js"],"sourcesContent":["const WebSocket = require('ws');\r\nconst server = new WebSocket.Server({ port: 8080 });\r\n\r\nserver.on('connection', socket => {\r\n    console.log('WebSocket connection established');\r\n\r\n    socket.on('message', message => {\r\n        const { filePath, track } = JSON.parse(message);\r\n        console.log(`Importing audio: ${filePath} to track: ${track}`);\r\n        executePremiereProScript(filePath, track);\r\n    });\r\n});\r\n\r\nfunction executePremiereProScript(filePath, track) {\r\n    if (!filePath || isNaN(track)) {\r\n        console.error(\"Invalid file path or track number.\");\r\n        return;\r\n    }\r\n\r\n    const script = `\r\n        function importAudioToTrack(filePath, trackIndex) {\r\n            app.project.rootItem;\r\n            var activeSequence = app.project.activeSequence;\r\n            var importResult = app.project.importFiles([filePath], 1, app.project.rootItem, false);\r\n            var importedItem = app.project.rootItem.children[app.project.rootItem.children.numItems - 1];\r\n            var audioTrack = activeSequence.audioTracks[trackIndex - 1];\r\n            var time = activeSequence.getPlayerPosition();\r\n            var newClip = audioTrack.insertClip(importedItem, time.seconds);\r\n        }\r\n        importAudioToTrack(\"${filePath.replace(/\\\\/g, '\\\\\\\\')}\", ${track});\r\n    `;\r\n\r\n    // Replace window.__adobe_cep__ with an alternative for script execution if necessary\r\n    console.log(`Executing script: ${script}`);\r\n    // Logic to execute the script, e.g., send it to an external API, etc.\r\n}\r\n\r\nconsole.log(\"WebSocket server started, listening for import-audio messages.\");\r\n"],"names":["WebSocket","server","socket","message","filePath","track","executePremiereProScript","script"],"mappings":"6CAAA,MAAMA,EAAY,QAAQ,IAAI,EACxBC,EAAS,IAAID,EAAU,OAAO,CAAE,KAAM,IAAI,CAAE,EAElDC,EAAO,GAAG,aAAcC,GAAU,CAC9B,QAAQ,IAAI,kCAAkC,EAE9CA,EAAO,GAAG,UAAWC,GAAW,CAC5B,KAAM,CAAE,SAAAC,EAAU,MAAAC,CAAK,EAAK,KAAK,MAAMF,CAAO,EAC9C,QAAQ,IAAI,oBAAoBC,CAAQ,cAAcC,CAAK,EAAE,EAC7DC,EAAyBF,EAAUC,CAAK,CAChD,CAAK,CACL,CAAC,EAED,SAASC,EAAyBF,EAAUC,EAAO,CAC/C,GAAI,CAACD,GAAY,MAAMC,CAAK,EAAG,CAC3B,QAAQ,MAAM,oCAAoC,EAClD,MACH,CAED,MAAME,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAUWH,EAAS,QAAQ,MAAO,MAAM,CAAC,MAAMC,CAAK;AAAA,MAIpE,QAAQ,IAAI,qBAAqBE,CAAM,EAAE,CAE7C,CAEA,QAAQ,IAAI,gEAAgE"}