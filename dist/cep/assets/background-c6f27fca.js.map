{"version":3,"file":"background-c6f27fca.js","sources":["../../../src/js/Bg/background.js"],"sourcesContent":["const { spawn } = require('child_process');\r\nconst path = require('path');\r\nconst fs = require('fs');\r\n\r\nfunction startRustServer() {\r\n    console.log(\"Starting Rust server...\");\r\n    if (typeof process !== 'undefined' && process.versions != null && process.versions.node != null) {\r\n        console.log(\"Node.js environment detected. Node version:\", process.version);\r\n\r\n        // Use the specific path provided\r\n        const rustExecutablePath = 'E:\\\\AudioImporter\\\\src\\\\target\\\\release\\\\audio_importer.exe';\r\n        console.log('Rust executable path:', rustExecutablePath);\r\n\r\n        // Check if the file exists\r\n        if (!fs.existsSync(rustExecutablePath)) {\r\n            console.error(`Rust executable not found at ${rustExecutablePath}`);\r\n            return;\r\n        }\r\n\r\n        const child = spawn(rustExecutablePath, [], {\r\n            cwd: path.dirname(rustExecutablePath), // Set working directory to executable's directory\r\n            env: process.env,\r\n            stdio: 'inherit',\r\n        });\r\n\r\n        child.on('error', (err) => {\r\n            console.error(`Failed to start Rust server: ${err}`);\r\n        });\r\n\r\n        child.on('close', (code) => {\r\n            if (code !== 0) {\r\n                console.error(`Rust server process exited with code ${code}`);\r\n            } else {\r\n                console.log('Rust server process exited successfully');\r\n            }\r\n        });\r\n    } else {\r\n        console.error('This script should only be run in a Node.js environment.');\r\n    }\r\n}\r\n\r\nconsole.log(\"Background script loaded. Starting Rust server...\");\r\nstartRustServer();\r\n\r\n// Add any other background tasks or message listeners here"],"names":["spawn","path","fs","startRustServer","rustExecutablePath","child","err","code"],"mappings":"6DAAA,KAAM,CAAE,MAAAA,CAAO,EAAG,QAAQ,eAAe,EACnCC,EAAO,QAAQ,MAAM,EACrBC,EAAK,QAAQ,IAAI,EAEvB,SAASC,GAAkB,CAEvB,GADA,QAAQ,IAAI,yBAAyB,EACjC,OAAO,QAAY,KAAe,QAAQ,UAAY,MAAQ,QAAQ,SAAS,MAAQ,KAAM,CAC7F,QAAQ,IAAI,8CAA+C,QAAQ,OAAO,EAG1E,MAAMC,EAAqB,8DAI3B,GAHA,QAAQ,IAAI,wBAAyBA,CAAkB,EAGnD,CAACF,EAAG,WAAWE,CAAkB,EAAG,CACpC,QAAQ,MAAM,gCAAgCA,CAAkB,EAAE,EAClE,MACH,CAED,MAAMC,EAAQL,EAAMI,EAAoB,GAAI,CACxC,IAAKH,EAAK,QAAQG,CAAkB,EACpC,IAAK,QAAQ,IACb,MAAO,SACnB,CAAS,EAEDC,EAAM,GAAG,QAAUC,GAAQ,CACvB,QAAQ,MAAM,gCAAgCA,CAAG,EAAE,CAC/D,CAAS,EAEDD,EAAM,GAAG,QAAUE,GAAS,CACpBA,IAAS,EACT,QAAQ,MAAM,wCAAwCA,CAAI,EAAE,EAE5D,QAAQ,IAAI,yCAAyC,CAErE,CAAS,CACT,MACQ,QAAQ,MAAM,0DAA0D,CAEhF,CAEA,QAAQ,IAAI,mDAAmD,EAC/DJ"}